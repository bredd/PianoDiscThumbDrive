#include <windows.h>

#include "FloppyImage.h"

// This is a minimal boot sector. It has the correct signatures and disk parameters.
// The first three bytes have the traditional jump to boot code. However, the boot
// code itself, at offset, 0x3E consists of CLI, HLT (bytes 0xFA 0xF4) which simply
// halts the processor until a reset. 
// This leaves the balane of the sector available for custom data if there's a
// purpose for it.

// When using this you should make the following additions
// * Set a random number for the serial number: 4 bytes at offset 0x27
// * Set a volume label: 11 bytes at offset 0x2B. Pad with spaces (0x20)

BYTE BootSector[512] = {
	/* 0000 */ 0xEB, 0x3C, 0x90, 0x50, 0x44, 0x69, 0x73, 0x63,  0x31, 0x2E, 0x30, 0x00, 0x02, 0x01, 0x01, 0x00,
	/* 0010 */ 0x02, 0xE0, 0x00, 0x40, 0x0B, 0xF0, 0x09, 0x00,  0x12, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0020 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x29, 0xDE,  0xAD, 0xBE, 0xEF, 0x20, 0x20, 0x20, 0x20, 0x20,
	/* 0030 */ 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x46, 0x41,  0x54, 0x31, 0x32, 0x20, 0x20, 0x20, 0xFA, 0x31,
	/* 0040 */ 0xC0, 0x8E, 0xD0, 0xBC, 0x00, 0x7C, 0xFB, 0x8E,  0xD8, 0xE8, 0x00, 0x00, 0x5E, 0x83, 0xC6, 0x19,
	/* 0050 */ 0xBB, 0x07, 0x00, 0xFC, 0xAC, 0x84, 0xC0, 0x74,  0x06, 0xB4, 0x0E, 0xCD, 0x10, 0xEB, 0xF5, 0x30,
	/* 0060 */ 0xE4, 0xCD, 0x16, 0xCD, 0x19, 0x0D, 0x0A, 0x4E,  0x6F, 0x6E, 0x2D, 0x73, 0x79, 0x73, 0x74, 0x65,
	/* 0070 */ 0x6D, 0x20, 0x64, 0x69, 0x73, 0x6B, 0x0D, 0x0A,  0x50, 0x72, 0x65, 0x73, 0x73, 0x20, 0x61, 0x6E,
	/* 0080 */ 0x79, 0x20, 0x6B, 0x65, 0x79, 0x20, 0x74, 0x6F,  0x20, 0x72, 0x65, 0x62, 0x6F, 0x6F, 0x74, 0x0D,
	/* 0090 */ 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 00A0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 00B0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 00C0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 00D0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 00E0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 00F0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0100 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0110 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0120 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0130 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0140 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0150 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0160 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0170 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0180 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 0190 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 01A0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 01B0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 01C0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 01D0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 01E0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	/* 01F0 */ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x55, 0xAA
};